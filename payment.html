<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Google Tag Manager -->
  <script>
    (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-5DMKD59S');
  </script>
  <!-- End Google Tag Manager -->

  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="Secure checkout page for NatureBloom Organics. Complete your organic skincare product purchase with ease." />
  <title>Checkout | NatureBloom Organics</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet" />
  <style>
    body {
      background-color: #F5F3EB;
      color: #4B4B4B;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }
    header {
      background-color: #A8C3A4;
    }
    nav a {
      color: #4B4B4B;
      font-weight: 600;
    }
    nav a:hover {
      color: #2F4F4F;
    }
    .btn-primary {
      background-color: #2F4F4F;
      color: #F5F3EB;
      padding: 0.75rem 1.5rem;
      border-radius: 9999px;
      font-weight: 700;
      transition: background-color 0.3s ease;
      cursor: pointer;
    }
    .btn-primary:hover {
      background-color: #708A5A;
    }
    .fade-in {
      animation: fadeIn 1.5s ease-in;
    }
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }
  </style>
</head>
<body>

  <!-- Google Tag Manager (noscript) -->
  <noscript>
    <iframe src="https://www.googletagmanager.com/ns.html?id=GTM-5DMKD59S"
      height="0" width="0" style="display:none;visibility:hidden"></iframe>
  </noscript>
  <!-- End Google Tag Manager (noscript) -->

  <!-- Header -->
  <header class="p-6 shadow-md">
    <div class="max-w-7xl mx-auto flex justify-between items-center">
      <h1 class="text-3xl font-bold">NatureBloom Organics</h1>
      <nav class="space-x-6 text-lg">
        <a href="index.html">Home</a>
        <a href="products.html">Products</a>
        <a href="contact.html">Contact</a>
      </nav>
    </div>
  </header>

  <!-- Checkout Form -->
  <main class="max-w-lg mx-auto py-12 px-6 fade-in">
    <h1 class="text-3xl font-bold text-center mb-8" style="color: #2F4F4F;">Complete Your Purchase</h1>

    <form id="paymentForm" class="bg-white shadow-md rounded-lg p-6 space-y-6" aria-label="Checkout Form">
      <div>
        <label for="name" class="block mb-1 font-medium">Name</label>
        <input id="name" name="name" type="text" required
          class="w-full px-4 py-2 border border-gray-300 rounded-lg" placeholder="Your full name" />
      </div>

      <div>
        <label for="email" class="block mb-1 font-medium">Email</label>
        <input id="email" name="email" type="email" required
          class="w-full px-4 py-2 border border-gray-300 rounded-lg" placeholder="you@example.com" />
      </div>

      <div>
        <label for="address" class="block mb-1 font-medium">Shipping Address</label>
        <textarea id="address" name="address" rows="3" required
          class="w-full px-4 py-2 border border-gray-300 rounded-lg" placeholder="Your shipping address"></textarea>
      </div>

      <button type="submit" class="btn-primary w-full" aria-label="Pay securely">Pay Now</button>
    </form>

    <p id="thankYouMessage" class="hidden text-center mt-6 text-green-700 font-semibold"></p>
  </main>

  <!-- Form Submit Script with GA4 Event -->
  <script>
    const form = document.getElementById('paymentForm');
    const thankYouMessage = document.getElementById('thankYouMessage');

    form.addEventListener('submit', function(event) {
      event.preventDefault();

      // Push purchase event to dataLayer
      window.dataLayer = window.dataLayer || [];
      dataLayer.push({
        event: "purchase",
        purchase_value: 1,
        currency: "INR"
      });

      // Hide form and show message
      form.style.display = 'none';
      thankYouMessage.textContent = 'Thank you for your purchase! Redirecting to home page...';
      thankYouMessage.classList.remove('hidden');

      // Redirect to home after 3 seconds
      setTimeout(() => {
        window.location.href = 'index.html';
      }, 3000);
    });
  </script>

</body>
</html>
